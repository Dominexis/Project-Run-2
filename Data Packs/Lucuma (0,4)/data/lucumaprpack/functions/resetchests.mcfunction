
scoreboard players add #reset_chest_timer lucuma.value 1
execute if score #reset_chest_timer lucuma.value matches 100.. run scoreboard players set #reset_chest_timer lucuma.value 0


execute if score #reset_chest_timer lucuma.value matches 0 positioned ~14 ~13 ~-28 unless entity @a[distance=..5,tag=pr.target] run setblock ~ ~ ~ minecraft:air
execute if score #reset_chest_timer lucuma.value matches 0 positioned ~14 ~13 ~-28 unless entity @a[distance=..5,tag=pr.target] run setblock ~ ~ ~ minecraft:chest[facing=east]{Items:[{id:"minecraft:writable_book",tag:{CanPlaceOn:["minecraft:lectern"],pages:['"                                                                                                                                                                                 K N O W L E D G E"'],display:{Name:'{"text":"Encyclopedia","type":"text"}'}},Count:1b,Slot:2b},{id:"minecraft:book",Count:2b,Slot:7b},{id:"minecraft:paper",Count:2b,Slot:10b},{id:"minecraft:string",Count:3b,Slot:13b},{id:"minecraft:book",Count:3b,Slot:14b},{id:"minecraft:string",Count:2b,Slot:18b},{id:"minecraft:paper",Count:1b,Slot:20b},{id:"minecraft:lever",Count:1b,Slot:22b},{id:"minecraft:paper",Count:1b,Slot:25b}]} replace

execute if score #reset_chest_timer lucuma.value matches 0 positioned ~00 ~18 ~022 unless entity @a[distance=..5,tag=pr.target] run setblock ~ ~ ~ minecraft:air
execute if score #reset_chest_timer lucuma.value matches 0 positioned ~00 ~18 ~022 unless entity @a[distance=..5,tag=pr.target] run setblock ~ ~ ~ minecraft:chest[facing=north]{Items:[{id:"minecraft:sugar",Count:1b,Slot:0b},{id:"minecraft:sugar",Count:1b,Slot:2b},{id:"minecraft:cookie",Count:1b,Slot:3b},{id:"minecraft:cookie",Count:1b,Slot:4b},{id:"minecraft:cookie",Count:1b,Slot:5b},{id:"minecraft:sugar",Count:1b,Slot:6b},{id:"minecraft:sugar",Count:1b,Slot:8b},{id:"minecraft:cookie",Count:1b,Slot:9b},{id:"minecraft:cookie",Count:1b,Slot:10b},{id:"minecraft:cookie",Count:1b,Slot:11b},{id:"minecraft:cookie",Count:1b,Slot:12b},{id:"minecraft:writable_book",tag:{CanPlaceOn:["minecraft:lectern"],display:{Name:'{"text":"Munchies","type":"text"}'},pages:['"                                                                                                                                                                        C-=-H-=-O-=-M-=-P"']},Count:1b,Slot:13b},{id:"minecraft:cookie",Count:1b,Slot:14b},{id:"minecraft:cookie",Count:1b,Slot:15b},{id:"minecraft:cookie",Count:1b,Slot:16b},{id:"minecraft:cookie",Count:1b,Slot:17b},{id:"minecraft:sugar",Count:1b,Slot:18b},{id:"minecraft:sugar",Count:1b,Slot:20b},{id:"minecraft:cookie",Count:1b,Slot:21b},{id:"minecraft:cookie",Count:1b,Slot:22b},{id:"minecraft:cookie",Count:1b,Slot:23b},{id:"minecraft:sugar",Count:1b,Slot:24b},{id:"minecraft:sugar",Count:1b,Slot:26b}]} replace


execute if score #reset_chest_timer lucuma.value matches 0 positioned ~00 ~02 ~033 unless entity @a[distance=..5,tag=pr.target] run setblock ~ ~ ~ minecraft:air
execute if score #reset_chest_timer lucuma.value matches 0 positioned ~00 ~02 ~033 unless entity @a[distance=..5,tag=pr.target] run setblock ~ ~ ~ minecraft:chest[facing=south]{Items:[{id:"minecraft:writable_book",tag:{CanPlaceOn:["minecraft:lectern"],display:{Name:'{"text":"Library How-To","type":"text"}'},pages:['"                                                                                                                                                                                      B  O  O  K"']},Count:1b,Slot:13b}]} replace

return 1